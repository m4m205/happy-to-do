import{o as u,c as f,a as t,b as x,w as C,u as I,R as w,d as K,e as B,f as A,g as $,v as Q,i as L,h as X,n as D,p as P,j as S,k as Z,r as y,F as E,l as j,m as ee,t as te,q as ne,s as oe,x as se,y as ie}from"./vendor.63194bed.js";const ae=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}};ae();const le={class:"d-flex flex-column min-vh-100"},de={class:"navbar navbar-expand-md navbar-light",style:{"background-color":"#e3f2fd"}},ce={class:"container-fluid"},re=t("a",{class:"navbar-brand",href:"#"},"Happy to-do",-1),ue=t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1),me={class:"collapse navbar-collapse",id:"navbarText"},pe={class:"navbar-nav me-auto mb-2 mb-md-0"},he={class:"nav-item"},fe=B("Home"),ve={class:"nav-item"},_e=B("About"),be={class:"container"},ge=t("footer",{class:"mt-auto bg-secondary bg-gradient text-white-75"},[t("p",{class:"text-end fw-bold pe-2 pt-1 align-middle"}," developed by: Mahmoud Almorahlee ")],-1),ye={setup(a){return(i,o)=>(u(),f("div",le,[t("nav",de,[t("div",ce,[re,ue,t("div",me,[t("ul",pe,[t("li",he,[x(I(w),{class:"nav-link active","aria-current":"page",to:"/"},{default:C(()=>[fe]),_:1})]),t("li",ve,[x(I(w),{class:"nav-link active","aria-current":"page",to:"/about"},{default:C(()=>[_e]),_:1})])])])])]),t("div",be,[x(I(K))]),ge]))}},xe="modulepreload",O={},Ie="/",T=function(i,o){return!o||o.length===0?i():Promise.all(o.map(n=>{if(n=`${Ie}${n}`,n in O)return;O[n]=!0;const e=n.endsWith(".css"),s=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${s}`))return;const r=document.createElement("link");if(r.rel=e?"stylesheet":xe,e||(r.as="script",r.crossOrigin=""),r.href=n,document.head.appendChild(r),e)return new Promise((b,p)=>{r.addEventListener("load",b),r.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>i())};class _{static getLists(){return fetch("https://todo-api.niveaubepaling.nl/list",{method:"GET",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"}}).then(o=>o.ok?o:Promise.reject(o))}static getItems(i){const o={method:"GET",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"}};return fetch(`https://todo-api.niveaubepaling.nl/list/${i}`,o).then(n=>n.ok?n:Promise.reject(n))}static addItem(i,o){const n={method:"POST",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"},body:JSON.stringify(o)};return fetch(`https://todo-api.niveaubepaling.nl/list/${i}`,n).then(e=>e.ok?e:Promise.reject(e))}static addList(i){const o={method:"POST",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"},body:JSON.stringify(i)};return fetch("https://todo-api.niveaubepaling.nl/list",o).then(n=>n.ok?n:Promise.reject(n))}static updateItem(i,o,n){const e={method:"PATCH",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"},body:JSON.stringify(n)};return fetch(`https://todo-api.niveaubepaling.nl/list/${i}/${o}`,e).then(s=>s.ok?s:Promise.reject(s))}static deleteItem(i,o){const n={method:"DELETE",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"}};return fetch(`https://todo-api.niveaubepaling.nl/list/${i}/${o}`,n).then(e=>e.ok?e:Promise.reject(e))}static deleteList(i){const o={method:"DELETE",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"}};return fetch(`https://todo-api.niveaubepaling.nl/list/${i}`,o).then(n=>n.ok?n:Promise.reject(n))}}var N=(a,i)=>{const o=a.__vccOpts||a;for(const[n,e]of i)o[n]=e;return o};const M=a=>(P("data-v-63f1f0fb"),a=a(),S(),a),ke={class:"card p-2 mb-3 rounded-3"},Ce={class:"nav justify-content-end item-header"},we=M(()=>t("i",{class:"bi bi-check-circle-fill text-success px-1"},null,-1)),$e=M(()=>t("i",{class:"bi bi-info-circle text-info px-1"},null,-1)),Le={class:"input-group"},Ee={class:"input-group-text"},je=["checked"],Oe={props:{itemText:String,isItemCompleted:Boolean,itemId:Number},emits:["delete","completedChange","inputChange"],setup(a,{emit:i}){A(()=>{document.getElementById("item-text-input").addEventListener("keydown",function(e){e.key==="Enter"&&(e.preventDefault(),updateItem(e.target.value,"input"))})});async function o(n,e){await Z(),i("completedChange",n,e)}return(n,e)=>(u(),f("div",ke,[t("div",Ce,[we,t("i",{class:"bi bi-trash3-fill text-danger px-1",onClick:e[0]||(e[0]=s=>n.$emit("delete",a.itemId)),"data-bs-toggle":"modal","data-bs-target":"#delete-item-overlay"}),$e]),t("div",Le,[t("div",Ee,[$(t("input",{class:"form-check-input mt-0",type:"checkbox","aria-label":"Checkbox for following text input",checked:a.isItemCompleted,"onUpdate:modelValue":e[1]||(e[1]=s=>L(isItemCompleted)?isItemCompleted.value=s:null),onChange:e[2]||(e[2]=s=>o(a.itemId,a.isItemCompleted))},null,40,je),[[Q,a.isItemCompleted]])]),$(t("input",{id:"item-text-input",class:D([{"text-decoration-line-through":a.isItemCompleted},"form-control"]),"onUpdate:modelValue":e[3]||(e[3]=s=>L(itemText)?itemText.value=s:null),onChange:e[4]||(e[4]=s=>n.$emit("inputChange",a.itemId,a.itemText)),type:"text","aria-label":"Text input with checkbox"},null,34),[[X,a.itemText]])])]))}};var Te=N(Oe,[["__scopeId","data-v-63f1f0fb"]]);const m=a=>(P("data-v-edf70c62"),a=a(),S(),a),Be={class:"container shadow-sm p-5"},Ae=m(()=>t("div",{id:"spinner-overlay",class:"modal",tabindex:"-1","aria-labelledby":"spinnerModalLabel","aria-hidden":"true"},[t("div",{class:"d-flex align-items-center justify-content-center h-100 modal-dialog"},[t("div",{class:"spinner-border text-primary",role:"status"},[t("span",{class:"visually-hidden",id:"spinnerModalLabel"},"Loading...")])])],-1)),De={id:"delete-item-overlay",class:"modal fade",tabindex:"-1","aria-labelledby":"confirmModalLabel","aria-hidden":"true"},Pe={class:"modal-dialog"},Se={class:"modal-content"},Ne=m(()=>t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"confirmModalLabel"},"Confirm")],-1)),Me=m(()=>t("div",{class:"modal-body"}," Are you sure you want to delete this item? ",-1)),Ve={class:"modal-footer"},Re={id:"delete-list-overlay",class:"modal fade",tabindex:"-1","aria-labelledby":"confirmModalLabel","aria-hidden":"true"},He={class:"modal-dialog"},Ue={class:"modal-content"},qe=m(()=>t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"confirmModalLabel"},"Confirm")],-1)),Fe=m(()=>t("div",{class:"modal-body"}," Are you sure you want to delete this list? ",-1)),Je={class:"modal-footer"},Ge={class:"row justify-content-between g-3"},We={class:"col-12 col-md-3 p-3 gx-2 shadow"},Ye=m(()=>t("div",{class:"input-group-text shadow-sm mb-3"},[t("input",{id:"new-list-input",type:"text",class:"form-control",placeholder:"create list"})],-1)),ze=["onClick"],Ke={class:"nav justify-content-end list-header"},Qe=["onClick"],Xe=m(()=>t("i",{class:"bi bi-info-circle text-info px-1"},null,-1)),Ze={class:"input-group"},et={class:"form-control mb-0"},tt={class:"col-12 col-md-8 p-3 gx-2 shadow"},nt=m(()=>t("div",{class:"input-group-text shadow-sm mb-3"},[t("input",{id:"new-item-input",type:"text",class:"form-control",placeholder:"Add to-do item here"})],-1)),ot={key:0},st={key:1,class:"text-center"},it=m(()=>t("p",null,"Empty list!",-1)),at=[it],lt={setup(a){const i=y([]),o=y([]),n=y(null),e=y(null),s=y(null);let r={};A(()=>{r=new bootstrap.Modal(document.getElementById("spinner-overlay"),{keyboard:!1});const d=document.getElementById("delete-item-overlay"),c=document.getElementById("delete-list-overlay"),l=document.getElementById("cancel-delete-item"),g=document.getElementById("cancel-delete-list"),Y=document.getElementById("new-item-input"),z=document.getElementById("new-list-input");Y.addEventListener("keydown",function(v){v.key==="Enter"&&(v.preventDefault(),R(v.target.value))}),z.addEventListener("keydown",function(v){v.key==="Enter"&&(v.preventDefault(),H(v.target.value))}),d.addEventListener("shown.bs.modal",function(){l.focus()}),c.addEventListener("shown.bs.modal",function(){g.focus()}),b()});function b(d){r.show(),_.getLists().then(c=>{c.json().then(l=>{i.value=l.data,p(d||l.data[0].id),setTimeout(()=>{r.hide()},500)})}).catch(()=>h.push({name:"error"}))}function p(d){_.getItems(d).then(c=>{c.json().then(l=>{n.value=d,o.value=l.data.items})}).catch(()=>h.push({name:"error"}))}function R(d){const c={name:d.trim()};_.addItem(n.value,c).then(l=>{l.json().then(()=>{document.getElementById("new-item-input").value="",p(n.value)}).catch(()=>h.push({name:"error"}))})}function H(d){const c={name:d.trim()};_.addList(c).then(l=>{l.json().then(g=>{document.getElementById("new-list-input").value="",b(g.data.id)}).catch(()=>h.push({name:"error"}))})}function U(d,c){k(d,{completed:c})}function q(d,c){k(d,{name:c})}function k(d,c){_.updateItem(n.value,d,c).then(l=>{l.json().then(()=>p(n.value)).catch(()=>h.push({name:"error"}))})}function F(d){e.value=d}function J(){e.value!==null&&_.deleteItem(n.value,e.value).then(d=>{d.json().then(()=>{e.value=null,p(n.value)}).catch(()=>h.push({name:"error"}))})}function G(d){s.value=d}function W(){s.value!==null&&_.deleteList(s.value).then(()=>{s.value=null,b()}).catch(()=>h.push({name:"error"}))}return(d,c)=>(u(),f("main",Be,[Ae,t("div",De,[t("div",Pe,[t("div",Se,[Ne,Me,t("div",Ve,[t("button",{id:"cancel-delete-item",type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:c[0]||(c[0]=()=>e.value=null)}," No "),t("button",{id:"confirm-delete-item",type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:J}," Yes ")])])])]),t("div",Re,[t("div",He,[t("div",Ue,[qe,Fe,t("div",Je,[t("button",{id:"cancel-delete-list",type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:c[1]||(c[1]=()=>s.value=null)}," No "),t("button",{id:"confirm-delete-list",type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:W}," Yes ")])])])]),t("div",Ge,[t("div",We,[Ye,(u(!0),f(E,null,j(i.value,l=>(u(),f("div",{key:l.id,onClick:g=>p(l.id),class:D([{"border border-primary border-3":n.value===l.id},"card d-flex justify-content-center text-center p-2 mb-3 rounded-3 list-card"])},[t("div",Ke,[t("i",{class:"bi bi-trash3-fill text-danger px-1",onClick:ee(g=>G(l.id),["stop"]),"data-bs-toggle":"modal","data-bs-target":"#delete-list-overlay"},null,8,Qe),Xe]),t("div",Ze,[t("p",et,te(l.name),1)])],10,ze))),128))]),t("div",tt,[nt,o.value.length>0?(u(),f("div",ot,[(u(!0),f(E,null,j(o.value.slice().reverse(),l=>(u(),ne(Te,{key:l.id,"item-text":l.name,"is-item-completed":l.completed,"item-id":l.id,onDelete:F,onInputChange:q,onCompletedChange:U},null,8,["item-text","is-item-completed","item-id"]))),128))])):(u(),f("div",st,at))])])]))}};var dt=N(lt,[["__scopeId","data-v-edf70c62"]]);const h=oe({history:se("/"),routes:[{path:"/",name:"home",component:dt},{path:"/about",name:"about",component:()=>T(()=>import("./AboutView.32ece889.js"),["assets/AboutView.32ece889.js","assets/AboutView.ed127621.css","assets/vendor.63194bed.js"])},{path:"/error",name:"error",component:()=>T(()=>import("./ErrorView.c728fa31.js"),["assets/ErrorView.c728fa31.js","assets/vendor.63194bed.js"])}]}),V=ie(ye);V.use(h);V.mount("#app");export{N as _};
