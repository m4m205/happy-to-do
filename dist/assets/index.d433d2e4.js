import{o as u,c as p,a as n,b as y,w as $,u as I,R as C,d as F,e as x,f as A,g as w,v as G,i as E,h as J,n as P,p as D,j as S,r as b,F as j,k as L,t as W,l as z,m as K,q as Y,s as Q,x as X}from"./vendor.38cbd127.js";const Z=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&e(r)}).observe(document,{childList:!0,subtree:!0});function o(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(t){if(t.ep)return;t.ep=!0;const i=o(t);fetch(t.href,i)}};Z();const ee={class:"d-flex flex-column min-vh-100"},te={class:"navbar navbar-expand-md navbar-light",style:{"background-color":"#e3f2fd"}},ne={class:"container-fluid"},oe=n("a",{class:"navbar-brand",href:"#"},"Happy to-do",-1),ae=n("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[n("span",{class:"navbar-toggler-icon"})],-1),se={class:"collapse navbar-collapse",id:"navbarText"},ie={class:"navbar-nav me-auto mb-2 mb-md-0"},le={class:"nav-item"},de=x("Home"),ce={class:"nav-item"},re=x("About"),ue={class:"container"},pe=n("footer",{class:"mt-auto bg-secondary bg-gradient text-white-75"},[n("p",{class:"text-end fw-bold pe-2 pt-1 align-middle"}," developed by: Mahmoud Almorahlee ")],-1),me={setup(a){return(s,o)=>(u(),p("div",ee,[n("nav",te,[n("div",ne,[oe,ae,n("div",se,[n("ul",ie,[n("li",le,[y(I(C),{class:"nav-link active","aria-current":"page",to:"/"},{default:$(()=>[de]),_:1})]),n("li",ce,[y(I(C),{class:"nav-link active","aria-current":"page",to:"/about"},{default:$(()=>[re]),_:1})])])])])]),n("div",ue,[y(I(F))]),pe]))}},he="modulepreload",O={},ve="/",T=function(s,o){return!o||o.length===0?s():Promise.all(o.map(e=>{if(e=`${ve}${e}`,e in O)return;O[e]=!0;const t=e.endsWith(".css"),i=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${i}`))return;const r=document.createElement("link");if(r.rel=t?"stylesheet":he,t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t)return new Promise((m,g)=>{r.addEventListener("load",m),r.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>s())};class v{static getLists(){return fetch("https://todo-api.niveaubepaling.nl/list",{method:"GET",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"}}).then(o=>o.ok?o:Promise.reject(o))}static getItems(s){const o={method:"GET",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"}};return fetch(`https://todo-api.niveaubepaling.nl/list/${s}`,o).then(e=>e.ok?e:Promise.reject(e))}static addItem(s,o){const e={method:"POST",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"},body:JSON.stringify(o)};return fetch(`https://todo-api.niveaubepaling.nl/list/${s}`,e).then(t=>t.ok?t:Promise.reject(t))}static updateItem(s,o,e){const t={method:"PATCH",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"},body:JSON.stringify(e)};return fetch(`https://todo-api.niveaubepaling.nl/list/${s}/${o}`,t).then(i=>i.ok?i:Promise.reject(i))}static deleteItem(s,o){const e={method:"DELETE",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"}};return fetch(`https://todo-api.niveaubepaling.nl/list/${s}/${o}`,e).then(t=>t.ok?t:Promise.reject(t))}static deleteList(s){const o={method:"DELETE",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"}};return fetch(`https://todo-api.niveaubepaling.nl/list/${s}`,o).then(e=>e.ok?e:Promise.reject(e))}}var B=(a,s)=>{const o=a.__vccOpts||a;for(const[e,t]of s)o[e]=t;return o};const N=a=>(D("data-v-ad73c8fc"),a=a(),S(),a),fe={class:"card p-2 mb-3 rounded-3"},_e={class:"nav justify-content-end item-header"},be=N(()=>n("i",{class:"bi bi-check-circle-fill text-success px-1"},null,-1)),ge=N(()=>n("i",{class:"bi bi-info-circle text-info px-1"},null,-1)),ye={class:"input-group"},Ie={class:"input-group-text"},xe=["checked"],ke={props:{itemText:String,isItemCompleted:Boolean,itemId:Number},emits:["update","delete"],setup(a,{emit:s}){return A(()=>{document.getElementById("item-text-input").addEventListener("keydown",function(e){e.key==="Enter"&&(e.preventDefault(),updateItem(e.target.value,"input"))})}),(o,e)=>(u(),p("div",fe,[n("div",_e,[be,n("i",{class:"bi bi-trash3-fill text-danger px-1",onClick:e[0]||(e[0]=t=>o.$emit("delete",a.itemId)),"data-bs-toggle":"modal","data-bs-target":"#delete-overlay"}),ge]),n("div",ye,[n("div",Ie,[w(n("input",{class:"form-check-input mt-0",type:"checkbox","aria-label":"Checkbox for following text input",checked:a.isItemCompleted,"onUpdate:modelValue":e[1]||(e[1]=t=>E(isItemCompleted)?isItemCompleted.value=t:null),onChange:e[2]||(e[2]=t=>o.$emit("CompletedChange",a.itemId,a.isItemCompleted))},null,40,xe),[[G,a.isItemCompleted]])]),w(n("input",{id:"item-text-input",class:P([{"text-decoration-line-through":a.isItemCompleted},"form-control"]),"onUpdate:modelValue":e[3]||(e[3]=t=>E(itemText)?itemText.value=t:null),onChange:e[4]||(e[4]=t=>o.$emit("inputChange",a.itemId,a.itemText)),type:"text","aria-label":"Text input with checkbox"},null,34),[[J,a.itemText]])])]))}};var $e=B(ke,[["__scopeId","data-v-ad73c8fc"]]);const f=a=>(D("data-v-22c28d8b"),a=a(),S(),a),Ce={class:"container shadow-sm p-5"},we=f(()=>n("div",{id:"spinner-overlay",class:"modal",tabindex:"-1","aria-labelledby":"spinnerModalLabel","aria-hidden":"true"},[n("div",{class:"d-flex align-items-center justify-content-center h-100 modal-dialog"},[n("div",{class:"spinner-border text-primary",role:"status"},[n("span",{class:"visually-hidden",id:"spinnerModalLabel"},"Loading...")])])],-1)),Ee={id:"delete-overlay",class:"modal fade",tabindex:"-1","aria-labelledby":"confirmModalLabel","aria-hidden":"true"},je={class:"modal-dialog"},Le={class:"modal-content"},Oe=f(()=>n("div",{class:"modal-header"},[n("h5",{class:"modal-title",id:"confirmModalLabel"},"Confirm")],-1)),Te=f(()=>n("div",{class:"modal-body"}," Are you sure you want to delete this item? ",-1)),Ae={class:"modal-footer"},Pe={class:"row justify-content-between g-3"},De={class:"col-12 col-md-3 p-3 gx-2 shadow"},Se=["onClick"],Be={class:"p-2 mb-0"},Ne=["onClick"],Me={class:"col-12 col-md-8 p-3 gx-2 shadow"},Ve=f(()=>n("div",{class:"input-group-text shadow-sm mb-3"},[n("input",{id:"new-item-input",type:"text",class:"form-control",placeholder:"Add to-do item here"})],-1)),Re={key:0},He={key:1,class:"text-center"},Ue=f(()=>n("p",null,"Empty list!",-1)),qe=[Ue],Fe={setup(a){const s=b([]),o=b([]),e=b(null),t=b(null);let i={};A(()=>{i=new bootstrap.Modal(document.getElementById("spinner-overlay"),{keyboard:!1});const d=document.getElementById("delete-overlay"),c=document.getElementById("cancel-delete");document.getElementById("new-item-input").addEventListener("keydown",function(_){_.key==="Enter"&&(_.preventDefault(),g(_.target.value))}),d.addEventListener("shown.bs.modal",function(){c.focus()}),r()});function r(){i.show(),v.getLists().then(d=>{d.json().then(c=>{var l;((l=c.data)==null?void 0:l.length)>0&&(s.value=c.data,m(c.data[0].id)),setTimeout(()=>{i.hide()},500)})}).catch(()=>h.push({name:"error"}))}const m=d=>{v.getItems(d).then(c=>{c.json().then(l=>{e.value=d,o.value=l.data.items})}).catch(()=>h.push({name:"error"}))},g=d=>{const c={name:d.trim()};v.addItem(e.value,c).then(l=>{l.json().then(()=>{document.getElementById("new-item-input").value="",m(e.value)}).catch(()=>h.push({name:"error"}))})};function V(d,c){k(d,{completed:c})}function R(d,c){k(d,{name:c})}function k(d,c){v.updateItem(e.value,d,c).then(l=>{l.json().then(()=>m(e.value)).catch(()=>h.push({name:"error"}))})}function H(d){t.value=d}function U(){t.value!==null&&v.deleteItem(e.value,t.value).then(d=>{d.json().then(()=>m(e.value)).catch(()=>h.push({name:"error"}))})}function q(){v.deleteList(e.value).then(()=>r()).catch(()=>h.push({name:"error"}))}return(d,c)=>(u(),p("main",Ce,[we,n("div",Ee,[n("div",je,[n("div",Le,[Oe,Te,n("div",Ae,[n("button",{id:"cancel-delete",type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:c[0]||(c[0]=()=>t.value=null)}," No "),n("button",{id:"confirm-delete",type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:U}," Yes ")])])])]),n("div",Pe,[n("div",De,[(u(!0),p(j,null,L(s.value,l=>(u(),p("div",{key:l.id,onClick:_=>m(l.id),class:P([{"border border-primary border-3":e.value===l.id},"card d-flex align-items-center justify-content-center text-center mb-2 list-card"])},[n("p",Be,[x(W(l.name)+" ",1),n("i",{class:"bi bi-trash3-fill text-danger px-1",onClick:z(q,["stop"])},null,8,Ne)])],10,Se))),128))]),n("div",Me,[Ve,o.value.length>0?(u(),p("div",Re,[(u(!0),p(j,null,L(o.value.slice().reverse(),l=>(u(),K($e,{key:l.id,"item-text":l.name,"is-item-completed":l.completed,"item-id":l.id,onDelete:H,onInputChange:R,onCompletedChange:V},null,8,["item-text","is-item-completed","item-id"]))),128))])):(u(),p("div",He,qe))])])]))}};var Ge=B(Fe,[["__scopeId","data-v-22c28d8b"]]);const h=Y({history:Q("/"),routes:[{path:"/",name:"home",component:Ge},{path:"/about",name:"about",component:()=>T(()=>import("./AboutView.75659e7a.js"),["assets/AboutView.75659e7a.js","assets/AboutView.ed127621.css","assets/vendor.38cbd127.js"])},{path:"/error",name:"error",component:()=>T(()=>import("./ErrorView.ca7aded9.js"),["assets/ErrorView.ca7aded9.js","assets/vendor.38cbd127.js"])}]}),M=X(me);M.use(h);M.mount("#app");export{B as _};
