import{o as u,c as h,a as n,b as I,w as $,u as x,R as C,d as G,e as k,f as P,g as E,v as W,i as L,h as z,n as S,p as B,j as D,r as b,F as j,k as O,t as K,l as Y,m as Q,q as X,s as Z,x as ee}from"./vendor.38cbd127.js";const te=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&e(r)}).observe(document,{childList:!0,subtree:!0});function o(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerpolicy&&(c.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?c.credentials="include":t.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function e(t){if(t.ep)return;t.ep=!0;const c=o(t);fetch(t.href,c)}};te();const ne={class:"d-flex flex-column min-vh-100"},oe={class:"navbar navbar-expand-md navbar-light",style:{"background-color":"#e3f2fd"}},ie={class:"container-fluid"},se=n("a",{class:"navbar-brand",href:"#"},"Happy to-do",-1),ae=n("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[n("span",{class:"navbar-toggler-icon"})],-1),le={class:"collapse navbar-collapse",id:"navbarText"},ce={class:"navbar-nav me-auto mb-2 mb-md-0"},de={class:"nav-item"},re=k("Home"),ue={class:"nav-item"},pe=k("About"),me={class:"container"},he=n("footer",{class:"mt-auto bg-secondary bg-gradient text-white-75"},[n("p",{class:"text-end fw-bold pe-2 pt-1 align-middle"}," developed by: Mahmoud Almorahlee ")],-1),ve={setup(s){return(i,o)=>(u(),h("div",ne,[n("nav",oe,[n("div",ie,[se,ae,n("div",le,[n("ul",ce,[n("li",de,[I(x(C),{class:"nav-link active","aria-current":"page",to:"/"},{default:$(()=>[re]),_:1})]),n("li",ue,[I(x(C),{class:"nav-link active","aria-current":"page",to:"/about"},{default:$(()=>[pe]),_:1})])])])])]),n("div",me,[I(x(G))]),he]))}},fe="modulepreload",T={},_e="/",A=function(i,o){return!o||o.length===0?i():Promise.all(o.map(e=>{if(e=`${_e}${e}`,e in T)return;T[e]=!0;const t=e.endsWith(".css"),c=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${c}`))return;const r=document.createElement("link");if(r.rel=t?"stylesheet":fe,t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t)return new Promise((p,y)=>{r.addEventListener("load",p),r.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>i())};class f{static getLists(){return fetch("https://todo-api.niveaubepaling.nl/list",{method:"GET",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"}}).then(o=>o.ok?o:Promise.reject(o))}static getItems(i){const o={method:"GET",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"}};return fetch(`https://todo-api.niveaubepaling.nl/list/${i}`,o).then(e=>e.ok?e:Promise.reject(e))}static addItem(i,o){const e={method:"POST",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"},body:JSON.stringify(o)};return fetch(`https://todo-api.niveaubepaling.nl/list/${i}`,e).then(t=>t.ok?t:Promise.reject(t))}static addList(i){const o={method:"POST",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"},body:JSON.stringify(i)};return fetch("https://todo-api.niveaubepaling.nl/list",o).then(e=>e.ok?e:Promise.reject(e))}static updateItem(i,o,e){const t={method:"PATCH",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"},body:JSON.stringify(e)};return fetch(`https://todo-api.niveaubepaling.nl/list/${i}/${o}`,t).then(c=>c.ok?c:Promise.reject(c))}static deleteItem(i,o){const e={method:"DELETE",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"}};return fetch(`https://todo-api.niveaubepaling.nl/list/${i}/${o}`,e).then(t=>t.ok?t:Promise.reject(t))}static deleteList(i){const o={method:"DELETE",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"}};return fetch(`https://todo-api.niveaubepaling.nl/list/${i}`,o).then(e=>e.ok?e:Promise.reject(e))}}var N=(s,i)=>{const o=s.__vccOpts||s;for(const[e,t]of i)o[e]=t;return o};const M=s=>(B("data-v-60e859c9"),s=s(),D(),s),ge={class:"card p-2 mb-3 rounded-3"},be={class:"nav justify-content-end item-header"},ye=M(()=>n("i",{class:"bi bi-check-circle-fill text-success px-1"},null,-1)),Ie=M(()=>n("i",{class:"bi bi-info-circle text-info px-1"},null,-1)),xe={class:"input-group"},ke={class:"input-group-text"},we=["checked"],$e={props:{itemText:String,isItemCompleted:Boolean,itemId:Number},emits:["delete","completedChange","inputChange"],setup(s,{emit:i}){return P(()=>{document.getElementById("item-text-input").addEventListener("keydown",function(e){e.key==="Enter"&&(e.preventDefault(),updateItem(e.target.value,"input"))})}),(o,e)=>(u(),h("div",ge,[n("div",be,[ye,n("i",{class:"bi bi-trash3-fill text-danger px-1",onClick:e[0]||(e[0]=t=>o.$emit("delete",s.itemId)),"data-bs-toggle":"modal","data-bs-target":"#delete-overlay"}),Ie]),n("div",xe,[n("div",ke,[E(n("input",{class:"form-check-input mt-0",type:"checkbox","aria-label":"Checkbox for following text input",checked:s.isItemCompleted,"onUpdate:modelValue":e[1]||(e[1]=t=>L(isItemCompleted)?isItemCompleted.value=t:null),onChange:e[2]||(e[2]=t=>o.$emit("completedChange",s.itemId,s.isItemCompleted))},null,40,we),[[W,s.isItemCompleted]])]),E(n("input",{id:"item-text-input",class:S([{"text-decoration-line-through":s.isItemCompleted},"form-control"]),"onUpdate:modelValue":e[3]||(e[3]=t=>L(itemText)?itemText.value=t:null),onChange:e[4]||(e[4]=t=>o.$emit("inputChange",s.itemId,s.itemText)),type:"text","aria-label":"Text input with checkbox"},null,34),[[z,s.itemText]])])]))}};var Ce=N($e,[["__scopeId","data-v-60e859c9"]]);const _=s=>(B("data-v-620c3545"),s=s(),D(),s),Ee={class:"container shadow-sm p-5"},Le=_(()=>n("div",{id:"spinner-overlay",class:"modal",tabindex:"-1","aria-labelledby":"spinnerModalLabel","aria-hidden":"true"},[n("div",{class:"d-flex align-items-center justify-content-center h-100 modal-dialog"},[n("div",{class:"spinner-border text-primary",role:"status"},[n("span",{class:"visually-hidden",id:"spinnerModalLabel"},"Loading...")])])],-1)),je={id:"delete-overlay",class:"modal fade",tabindex:"-1","aria-labelledby":"confirmModalLabel","aria-hidden":"true"},Oe={class:"modal-dialog"},Te={class:"modal-content"},Ae=_(()=>n("div",{class:"modal-header"},[n("h5",{class:"modal-title",id:"confirmModalLabel"},"Confirm")],-1)),Pe=_(()=>n("div",{class:"modal-body"}," Are you sure you want to delete this item? ",-1)),Se={class:"modal-footer"},Be={class:"row justify-content-between g-3"},De={class:"col-12 col-md-3 p-3 gx-2 shadow"},Ne=_(()=>n("div",{class:"input-group-text shadow-sm mb-3"},[n("input",{id:"new-list-input",type:"text",class:"form-control",placeholder:"create new list here"})],-1)),Me=["onClick"],Ve={class:"p-2 mb-0"},Re=["onClick"],He={class:"col-12 col-md-8 p-3 gx-2 shadow"},Ue=_(()=>n("div",{class:"input-group-text shadow-sm mb-3"},[n("input",{id:"new-item-input",type:"text",class:"form-control",placeholder:"Add to-do item here"})],-1)),qe={key:0},Fe={key:1,class:"text-center"},Je=_(()=>n("p",null,"Empty list!",-1)),Ge=[Je],We={setup(s){const i=b([]),o=b([]),e=b(null),t=b(null);let c={};P(()=>{c=new bootstrap.Modal(document.getElementById("spinner-overlay"),{keyboard:!1});const l=document.getElementById("delete-overlay"),d=document.getElementById("cancel-delete"),a=document.getElementById("new-item-input"),g=document.getElementById("new-list-input");a.addEventListener("keydown",function(v){v.key==="Enter"&&(v.preventDefault(),y(v.target.value))}),g.addEventListener("keydown",function(v){v.key==="Enter"&&(v.preventDefault(),R(v.target.value))}),l.addEventListener("shown.bs.modal",function(){d.focus()}),r()});function r(l){c.show(),f.getLists().then(d=>{d.json().then(a=>{i.value=a.data,p(l||a.data[0].id),setTimeout(()=>{c.hide()},500)})}).catch(()=>m.push({name:"error"}))}function p(l){f.getItems(l).then(d=>{d.json().then(a=>{e.value=l,o.value=a.data.items})}).catch(()=>m.push({name:"error"}))}function y(l){const d={name:l.trim()};f.addItem(e.value,d).then(a=>{a.json().then(()=>{document.getElementById("new-item-input").value="",p(e.value)}).catch(()=>m.push({name:"error"}))})}function R(l){const d={name:l.trim()};f.addList(d).then(a=>{a.json().then(g=>{document.getElementById("new-list-input").value="",r(g.data.id)}).catch(()=>m.push({name:"error"}))})}function H(l,d){w(l,{completed:d})}function U(l,d){w(l,{name:d})}function w(l,d){f.updateItem(e.value,l,d).then(a=>{a.json().then(()=>p(e.value)).catch(()=>m.push({name:"error"}))})}function q(l){t.value=l}function F(){t.value!==null&&f.deleteItem(e.value,t.value).then(l=>{l.json().then(()=>p(e.value)).catch(()=>m.push({name:"error"}))})}function J(l){f.deleteList(l).then(()=>r()).catch(()=>m.push({name:"error"}))}return(l,d)=>(u(),h("main",Ee,[Le,n("div",je,[n("div",Oe,[n("div",Te,[Ae,Pe,n("div",Se,[n("button",{id:"cancel-delete",type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:d[0]||(d[0]=()=>t.value=null)}," No "),n("button",{id:"confirm-delete",type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:F}," Yes ")])])])]),n("div",Be,[n("div",De,[Ne,(u(!0),h(j,null,O(i.value,a=>(u(),h("div",{key:a.id,onClick:g=>p(a.id),class:S([{"border border-primary border-3":e.value===a.id},"card d-flex align-items-center justify-content-center text-center mb-2 list-card"])},[n("p",Ve,[k(K(a.name)+" ",1),n("i",{class:"bi bi-trash3-fill text-danger px-1",onClick:Y(g=>J(a.id),["stop"])},null,8,Re)])],10,Me))),128))]),n("div",He,[Ue,o.value.length>0?(u(),h("div",qe,[(u(!0),h(j,null,O(o.value.slice().reverse(),a=>(u(),Q(Ce,{key:a.id,"item-text":a.name,"is-item-completed":a.completed,"item-id":a.id,onDelete:q,onInputChange:U,onCompletedChange:H},null,8,["item-text","is-item-completed","item-id"]))),128))])):(u(),h("div",Fe,Ge))])])]))}};var ze=N(We,[["__scopeId","data-v-620c3545"]]);const m=X({history:Z("/"),routes:[{path:"/",name:"home",component:ze},{path:"/about",name:"about",component:()=>A(()=>import("./AboutView.a565ed7e.js"),["assets/AboutView.a565ed7e.js","assets/AboutView.ed127621.css","assets/vendor.38cbd127.js"])},{path:"/error",name:"error",component:()=>A(()=>import("./ErrorView.dabfe27b.js"),["assets/ErrorView.dabfe27b.js","assets/vendor.38cbd127.js"])}]}),V=ee(ve);V.use(m);V.mount("#app");export{N as _};
