import{o as u,c as p,a as t,b as x,w as $,u as I,R as w,d as H,e as A,f as P,g as C,v as q,i as E,h as F,n as S,p as B,j as D,r as f,F as j,k as L,t as U,l as G,m as J,q as W,s as z}from"./vendor.f13231da.js";const K=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function o(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?a.credentials="include":e.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(e){if(e.ep)return;e.ep=!0;const a=o(e);fetch(e.href,a)}};K();const Y={class:"d-flex flex-column min-vh-100"},Q={class:"navbar navbar-expand-md navbar-light",style:{"background-color":"#e3f2fd"}},X={class:"container-fluid"},Z=t("a",{class:"navbar-brand",href:"#"},"Happy to-do",-1),ee=t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1),te={class:"collapse navbar-collapse",id:"navbarText"},ne={class:"navbar-nav me-auto mb-2 mb-md-0"},oe={class:"nav-item"},ae=A("Home"),se={class:"nav-item"},ie=A("About"),le={class:"container"},ce=t("footer",{class:"mt-auto bg-secondary bg-gradient text-white-75"},[t("p",{class:"text-end fw-bold pe-2 pt-1 align-middle"}," developed by: Mahmoud Almorahlee ")],-1),re={setup(s){return(i,o)=>(u(),p("div",Y,[t("nav",Q,[t("div",X,[Z,ee,t("div",te,[t("ul",ne,[t("li",oe,[x(I(w),{class:"nav-link active","aria-current":"page",to:"/"},{default:$(()=>[ae]),_:1})]),t("li",se,[x(I(w),{class:"nav-link active","aria-current":"page",to:"/about"},{default:$(()=>[ie]),_:1})])])])])]),t("div",le,[x(I(H))]),ce]))}},de="modulepreload",O={},ue="/",T=function(i,o){return!o||o.length===0?i():Promise.all(o.map(n=>{if(n=`${ue}${n}`,n in O)return;O[n]=!0;const e=n.endsWith(".css"),a=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${a}`))return;const l=document.createElement("link");if(l.rel=e?"stylesheet":de,e||(l.as="script",l.crossOrigin=""),l.href=n,document.head.appendChild(l),e)return new Promise((b,g)=>{l.addEventListener("load",b),l.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>i())};class _{static getLists(){return fetch("https://todo-api.niveaubepaling.nl/list",{method:"GET",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"}}).then(o=>o.ok?o:Promise.reject(o))}static getItems(i){const o={method:"GET",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"}};return fetch(`https://todo-api.niveaubepaling.nl/list/${i}`,o).then(n=>n.ok?n:Promise.reject(n))}static addItem(i,o){const n={method:"POST",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"},body:JSON.stringify(o)};return fetch(`https://todo-api.niveaubepaling.nl/list/${i}`,n).then(e=>e.ok?e:Promise.reject(e))}static updateItem(i,o,n){const e={method:"PATCH",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"},body:JSON.stringify(n)};return fetch(`https://todo-api.niveaubepaling.nl/list/${i}/${o}`,e).then(a=>a.ok?a:Promise.reject(a))}static deleteItem(i,o){const n={method:"DELETE",headers:{Accept:"application/json",Origin:"*","Content-type":"application/json"}};return fetch(`https://todo-api.niveaubepaling.nl/list/${i}/${o}`,n).then(e=>e.ok?e:Promise.reject(e))}}var N=(s,i)=>{const o=s.__vccOpts||s;for(const[n,e]of i)o[n]=e;return o};const pe=s=>(B("data-v-02a5a4fc"),s=s(),D(),s),me={class:"card p-2 mb-3 rounded-3"},he={class:"nav justify-content-end item-header"},_e=pe(()=>t("i",{class:"bi bi-info-circle text-info px-1"},null,-1)),ve={key:0,class:"input-group"},fe={class:"input-group-text"},be=["checked","value"],ge={props:{itemText:String,isItemCompleted:Boolean,itemId:Number},emits:["update","delete"],setup(s,{emit:i}){P(()=>{document.getElementById("item-text-input").addEventListener("keydown",function(e){e.key==="Enter"&&(e.preventDefault(),updateItem(e.target.value,"input"))})});const o=()=>{};return(n,e)=>(u(),p("div",me,[t("div",he,[t("i",{class:"bi bi-check-circle-fill text-success px-1",onClick:o}),t("i",{class:"bi bi-trash3-fill text-danger px-1",onClick:e[0]||(e[0]=a=>n.$emit("delete",s.itemId)),"data-bs-toggle":"modal","data-bs-target":"#delete-overlay"}),_e]),(u(),p("div",ve,[t("div",fe,[C(t("input",{class:"form-check-input mt-0",type:"checkbox","aria-label":"Checkbox for following text input",checked:s.isItemCompleted,value:s.itemId,"onUpdate:modelValue":e[1]||(e[1]=a=>E(isItemCompleted)?isItemCompleted.value=a:null)},null,8,be),[[q,s.isItemCompleted]])]),C(t("input",{id:"item-text-input",class:S([{"text-decoration-line-through":s.isItemCompleted},"form-control"]),"onUpdate:modelValue":e[2]||(e[2]=a=>E(itemText)?itemText.value=a:null),onChange:e[3]||(e[3]=a=>n.$emit("delete","input")),type:"text","aria-label":"Text input with checkbox"},null,34),[[F,s.itemText]])]))]))}};var ye=N(ge,[["__scopeId","data-v-02a5a4fc"]]);const v=s=>(B("data-v-8d7af3ee"),s=s(),D(),s),xe={class:"container shadow-sm p-5"},Ie=v(()=>t("div",{id:"spinner-overlay",class:"modal",tabindex:"-1","aria-labelledby":"spinnerModalLabel","aria-hidden":"true"},[t("div",{class:"d-flex align-items-center justify-content-center h-100 modal-dialog"},[t("div",{class:"spinner-border text-primary",role:"status"},[t("span",{class:"visually-hidden",id:"spinnerModalLabel"},"Loading...")])])],-1)),ke={id:"delete-overlay",class:"modal fade",tabindex:"-1","aria-labelledby":"confirmModalLabel","aria-hidden":"true"},$e={class:"modal-dialog"},we={class:"modal-content"},Ce=v(()=>t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"confirmModalLabel"},"Confirm")],-1)),Ee=v(()=>t("div",{class:"modal-body"}," Are you sure you want to delete this item? ",-1)),je={class:"modal-footer"},Le={class:"row justify-content-between g-3"},Oe={class:"col-12 col-md-3 p-3 gx-2 shadow"},Te=["onClick"],Ae={class:"p-2 mb-0"},Pe={class:"col-12 col-md-8 p-3 gx-2 shadow"},Se=v(()=>t("div",{class:"input-group-text shadow-sm mb-3"},[t("input",{id:"new-item-input",type:"text",class:"form-control",placeholder:"Add to-do item here"})],-1)),Be={key:0},De={key:1,class:"text-center"},Ne=v(()=>t("p",null,"Empty list!",-1)),Me=[Ne],Ve={setup(s){const i=f([]),o=f([]),n=f(null),e=f(null);let a={};P(()=>{a=new bootstrap.Modal(document.getElementById("spinner-overlay"),{keyboard:!1});const r=document.getElementById("delete-overlay"),d=document.getElementById("cancel-delete");document.getElementById("new-item-input").addEventListener("keydown",function(m){m.key==="Enter"&&(m.preventDefault(),b(m.target.value))}),r.addEventListener("shown.bs.modal",function(){d.focus()}),a.show(),_.getLists().then(m=>{m.json().then(y=>{var k;((k=y.data)==null?void 0:k.length)>0&&(i.value=y.data,l(y.data[0].id)),setTimeout(()=>{a.hide()},500)})}).catch(()=>h.push({name:"error"}))});const l=r=>{_.getItems(r).then(d=>{d.json().then(c=>{n.value=r,o.value=c.data.items})}).catch(()=>h.push({name:"error"}))},b=r=>{const d={name:r.trim()};_.addItem(n.value,d).then(c=>{c.json().then(()=>{document.getElementById("new-item-input").value="",l(n.value)}).catch(()=>h.push({name:"error"}))})};function g(r,d){if(console.log("xxxxxxxxxxxxx"),d==="input"){console.log(r,"eeeeeeeeeeee");return}const c={completed:r.target.checked};_.updateItem(n.value,r.target.value,c).then(m=>{m.json().then(()=>l(n.value)).catch(()=>h.push({name:"error"}))})}function V(r){e.value=r}function R(){e.value!==null&&_.deleteItem(n.value,e.value).then(r=>{r.json().then(()=>l(n.value)).catch(()=>h.push({name:"error"}))})}return(r,d)=>(u(),p("main",xe,[Ie,t("div",ke,[t("div",$e,[t("div",we,[Ce,Ee,t("div",je,[t("button",{id:"cancel-delete",type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:d[0]||(d[0]=()=>e.value=null)}," No "),t("button",{id:"confirm-delete",type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:R}," Yes ")])])])]),t("div",Le,[t("div",Oe,[(u(!0),p(j,null,L(i.value,c=>(u(),p("div",{key:c.id,onClick:m=>l(c.id),class:S([{"border border-primary border-3":n.value===c.id},"card d-flex align-items-center justify-content-center text-center mb-2 list-card"])},[t("p",Ae,U(c.name),1)],10,Te))),128))]),t("div",Pe,[Se,o.value.length>0?(u(),p("div",Be,[(u(!0),p(j,null,L(o.value.slice().reverse(),c=>(u(),G(ye,{key:c.id,"item-text":c.name,"is-item-completed":c.completed,"item-id":c.id,onDelete:V,onChange:g},null,8,["item-text","is-item-completed","item-id"]))),128))])):(u(),p("div",De,Me))])])]))}};var Re=N(Ve,[["__scopeId","data-v-8d7af3ee"]]);const h=J({history:W("/"),routes:[{path:"/",name:"home",component:Re},{path:"/about",name:"about",component:()=>T(()=>import("./AboutView.001c39c3.js"),["assets/AboutView.001c39c3.js","assets/AboutView.ed127621.css","assets/vendor.f13231da.js"])},{path:"/error",name:"error",component:()=>T(()=>import("./ErrorView.9c4f1e22.js"),["assets/ErrorView.9c4f1e22.js","assets/vendor.f13231da.js"])}]}),M=z(re);M.use(h);M.mount("#app");export{N as _};
